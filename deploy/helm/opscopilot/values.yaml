global:
  imageTag: "dev"
  awsRegion: ""
  logLevel: "INFO"
  namespaceOverride: ""

images:
  apiRepository: "ops-copilot/api"
  webRepository: "ops-copilot/web"
  toolServerRepository: "ops-copilot/tool-server"
  pullPolicy: IfNotPresent

api:
  enabled: true
  replicaCount: 1
  service:
    type: ClusterIP
    port: 8000
  containerPort: 8000
  probes:
    liveness:
      enabled: true
      path: /health
      initialDelaySeconds: 10
      periodSeconds: 10
    readiness:
      enabled: true
      path: /health
      initialDelaySeconds: 5
      periodSeconds: 5
  resources: {}
  env: {}
  secretEnv: {}
  secretRefs: []
  secrets:
    databaseUrlKey: "DATABASE_URL"
    opensearchUsernameKey: "username"
    opensearchPasswordKey: "password"

web:
  enabled: true
  replicaCount: 1
  service:
    type: ClusterIP
    port: 80
  containerPort: 80
  probes:
    liveness:
      enabled: true
      path: /
      initialDelaySeconds: 10
      periodSeconds: 10
    readiness:
      enabled: true
      path: /
      initialDelaySeconds: 5
      periodSeconds: 5
  resources: {}
  env: {}

toolServer:
  enabled: true
  replicaCount: 1
  service:
    type: ClusterIP
    port: 8080
  containerPort: 8080
  probes:
    liveness:
      enabled: true
      path: /health
      initialDelaySeconds: 10
      periodSeconds: 10
    readiness:
      enabled: true
      path: /health
      initialDelaySeconds: 5
      periodSeconds: 5
  serviceAccount:
    create: true
    name: ""
  rbac:
    create: true
    allowedNamespaces:
      - default
  resources: {}
  env: {}
  secretEnv: {}
  secretRefs: []

observability:
  otelCollector:
    enabled: false
    image: "otel/opentelemetry-collector-contrib:0.103.0"
    replicaCount: 1
    config: |
      receivers:
        otlp:
          protocols:
            grpc: {}
            http: {}
      exporters:
        debug: {}
      service:
        pipelines:
          traces:
            receivers: [otlp]
            exporters: [debug]
          logs:
            receivers: [otlp]
            exporters: [debug]
    service:
      type: ClusterIP
      grpcPort: 4317
      httpPort: 4318

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: ""
      paths:
        - path: /
          pathType: Prefix
          service: web
          port: 80
        - path: /api
          pathType: Prefix
          service: api
          port: 8000
  tls: []

imagePullSecrets: []

terraform:
  outputContractVersion: ""
  helmValues:
    global:
      awsRegion: ""
    images:
      apiRepository: ""
      webRepository: ""
      toolServerRepository: ""
    api:
      env:
        opensearchUrl: ""
        opensearchIndex: ""
      infra:
        rdsEndpoint: ""
        rdsPort: 0
        rdsDatabase: ""
    artifacts:
      pythonPackageRegistryUrl: ""
    ingress:
      domainName: ""
      tls:
        certificateArn: ""
  helmSecretRefs:
    api:
      database:
        secretName: ""
        secretArn: ""
      opensearch:
        usernameSecretName: ""
        passwordSecretName: ""
        usernameSecretArn: ""
        passwordSecretArn: ""
  dnsContract:
    ingress_domain_name: ""
    route53_hosted_zone_id: ""
    acm_certificate_arn: ""
